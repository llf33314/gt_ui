<template><section>
<h2 id="messagebox"><a class="header-anchor" href="#messagebox" aria-hidden="true">¶</a> MessageBox</h2>
<p>A set of modal boxes simulating system message box, mainly for message prompt, success tips, error messages and query information.</p>
<h3 id="alert"><a class="header-anchor" href="#alert" aria-hidden="true">¶</a> Alert</h3>
<p>Alert interrupts user operation until the user confirms.</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button type=\&quot;text\&quot; @click=\&quot;open\&quot;&gt;Click to open the Message Box&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open() {\n        this.$alert('This is a message', 'Title', {\n          confirmButtonText: 'OK',\n          callback: action =&gt; {\n            this.$message({\n              type: 'info',\n              message: `action: ${ action }`\n            });\n          }\n        });\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button type="text" @click="open">Click to open the Message Box</el-button>
</template>


</div>
                    <p>Open an alert by calling the <code>$alert</code> method. It simulates the system's <code>alert</code>, and cannot be closed by pressing ESC or clicking outside the box. In this example, two parameters <code>message</code> and <code>title</code> are received. It is worth mentioning that when the box is closed, it returns a <code>Promise</code> object for further processing. If you are not sure if your target browsers support <code>Promise</code>, you should import a third party polyfill or use callbacks instead like this example.</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open"</span>&gt;</span>Click to open the Message Box<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open() {
        <span class="hljs-keyword">this</span>.$alert(<span class="hljs-string">'This is a message'</span>, <span class="hljs-string">'Title'</span>, {
          <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'OK'</span>,
          <span class="hljs-attr">callback</span>: <span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> {
            <span class="hljs-keyword">this</span>.$message({
              <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
              <span class="hljs-attr">message</span>: <span class="hljs-string">`action: <span class="hljs-subst">${ action }</span>`</span>
            });
          }
        });
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="confirm"><a class="header-anchor" href="#confirm" aria-hidden="true">¶</a> Confirm</h3>
<p>Confirm is used to ask users' confirmation.</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button type=\&quot;text\&quot; @click=\&quot;open2\&quot;&gt;Click to open the Message Box&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open2() {\n        this.$confirm('This will permanently delete the file. Continue?', 'Warning', {\n          confirmButtonText: 'OK',\n          cancelButtonText: 'Cancel',\n          type: 'warning'\n        }).then(() =&gt; {\n          this.$message({\n            type: 'success',\n            message: 'Delete completed'\n          });\n        }).catch(() =&gt; {\n          this.$message({\n            type: 'info',\n            message: 'Delete canceled'\n          });          \n        });\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button type="text" @click="open2">Click to open the Message Box</el-button>
</template>


</div>
                    <p>Call <code>$confirm</code> method to open a confirm, and it simulates the system's <code>confirm</code>. We can also highly customize Message Box by passing a third attribute <code>options</code> which is a literal object. The attribute <code>type</code> indicates the message type, and it's value can be <code>success</code>, <code>error</code>, <code>info</code> and <code>warning</code>. Note that the second attribute <code>title</code> must be a <code>string</code>, and if it is an <code>object</code>, it will be handled as the attribute <code>options</code>. Here we use <code>Promise</code> to handle further processing.</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open2"</span>&gt;</span>Click to open the Message Box<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open2() {
        <span class="hljs-keyword">this</span>.$confirm(<span class="hljs-string">'This will permanently delete the file. Continue?'</span>, <span class="hljs-string">'Warning'</span>, {
          <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'OK'</span>,
          <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">'Cancel'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>
        }).then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.$message({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'Delete completed'</span>
          });
        }).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.$message({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'Delete canceled'</span>
          });          
        });
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="prompt"><a class="header-anchor" href="#prompt" aria-hidden="true">¶</a> Prompt</h3>
<p>Prompt is used when user input is required.</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button type=\&quot;text\&quot; @click=\&quot;open3\&quot;&gt;Click to open Message Box&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open3() {\n        this.$prompt('Please input your e-mail', 'Tip', {\n          confirmButtonText: 'OK',\n          cancelButtonText: 'Cancel',\n          inputPattern: /[\\w!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n          inputErrorMessage: 'Invalid Email'\n        }).then(value =&gt; {\n          this.$message({\n            type: 'success',\n            message: 'Your email is:' + value\n          });\n        }).catch(() =&gt; {\n          this.$message({\n            type: 'info',\n            message: 'Input canceled'\n          });       \n        });\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button type="text" @click="open3">Click to open Message Box</el-button>
</template>


</div>
                    <p>Call <code>$prompt</code> method to open a prompt, and it simulates the system's <code>prompt</code>. You can use <code>inputPattern</code> parameter to specify your own RegExp pattern. Use <code>inputValidator</code> to specify validation method, and it should return <code>Boolean</code> or <code>String</code>. Returning <code>false</code> or <code>String</code> means the validation has failed, and the string returned will be used as the <code>inputErrorMessage</code>. In addition, you can customize the placeholder of the input box with <code>inputPlaceholder</code> parameter.</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open3"</span>&gt;</span>Click to open Message Box<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open3() {
        <span class="hljs-keyword">this</span>.$prompt(<span class="hljs-string">'Please input your e-mail'</span>, <span class="hljs-string">'Tip'</span>, {
          <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'OK'</span>,
          <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">'Cancel'</span>,
          <span class="hljs-attr">inputPattern</span>: <span class="hljs-regexp">/[\w!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[\w!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/</span>,
          <span class="hljs-attr">inputErrorMessage</span>: <span class="hljs-string">'Invalid Email'</span>
        }).then(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.$message({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'Your email is:'</span> + value
          });
        }).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.$message({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'Input canceled'</span>
          });       
        });
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="customization"><a class="header-anchor" href="#customization" aria-hidden="true">¶</a> Customization</h3>
<p>Can be customized to show various content.</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button type=\&quot;text\&quot; @click=\&quot;open4\&quot;&gt;Click to open Message Box&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open4() {\n        const h = this.$createElement;\n        this.$msgbox({\n          title: 'Message',\n          message: h('p', null, [\n            h('span', null, 'Message can be '),\n            h('i', { style: 'color: teal' }, 'VNode')\n          ]),\n          showCancelButton: true,\n          confirmButtonText: 'OK',\n          cancelButtonText: 'Cancel',\n          beforeClose: (action, instance, done) =&gt; {\n            if (action === 'confirm') {\n              instance.confirmButtonLoading = true;\n              instance.confirmButtonText = 'Loading...';\n              setTimeout(() =&gt; {\n                done();\n                setTimeout(() =&gt; {\n                  instance.confirmButtonLoading = false;\n                }, 300);\n              }, 3000);\n            } else {\n              done();\n            }\n          }\n        }).then(action =&gt; {\n          this.$message({\n            type: 'info',\n            message: 'action: ' + action\n          });\n        });\n      },\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button type="text" @click="open4">Click to open Message Box</el-button>
</template>


</div>
                    <p>The three methods mentioned above are repackagings of the <code>$msgbox</code> method. This example calls <code>$msgbox</code> method directly using the <code>showCancelButton</code> attribute, which is used to indicate if a cancel button is displayed. Besides we can use <code>cancelButtonClass</code> to add a custom style and <code>cancelButtonText</code> to customize the button text (the confirm button also has these fields, and a complete list of fields can be found at the end of this documentation). This example also uses the <code>beforeClose</code> attribute. It is a method and will be triggered when the MessageBox instance will be closed, and its execution will stop the instance from closing. It has three parameters: <code>action</code>, <code>instance</code> and <code>done</code>. Using it enables you to manipulate the instance before it closes, e.g. activating <code>loading</code> for confirm button; you can invoke the <code>done</code> method to close the MessageBox instance (if <code>done</code> is not called inside <code>beforeClose</code>, the instance will not be closed).</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open4"</span>&gt;</span>Click to open Message Box<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open4() {
        <span class="hljs-keyword">const</span> h = <span class="hljs-keyword">this</span>.$createElement;
        <span class="hljs-keyword">this</span>.$msgbox({
          <span class="hljs-attr">title</span>: <span class="hljs-string">'Message'</span>,
          <span class="hljs-attr">message</span>: h(<span class="hljs-string">'p'</span>, <span class="hljs-literal">null</span>, [
            h(<span class="hljs-string">'span'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">'Message can be '</span>),
            h(<span class="hljs-string">'i'</span>, { <span class="hljs-attr">style</span>: <span class="hljs-string">'color: teal'</span> }, <span class="hljs-string">'VNode'</span>)
          ]),
          <span class="hljs-attr">showCancelButton</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'OK'</span>,
          <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">'Cancel'</span>,
          <span class="hljs-attr">beforeClose</span>: <span class="hljs-function">(<span class="hljs-params">action, instance, done</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (action === <span class="hljs-string">'confirm'</span>) {
              instance.confirmButtonLoading = <span class="hljs-literal">true</span>;
              instance.confirmButtonText = <span class="hljs-string">'Loading...'</span>;
              setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                done();
                setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                  instance.confirmButtonLoading = <span class="hljs-literal">false</span>;
                }, <span class="hljs-number">300</span>);
              }, <span class="hljs-number">3000</span>);
            } <span class="hljs-keyword">else</span> {
              done();
            }
          }
        }).then(<span class="hljs-function"><span class="hljs-params">action</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.$message({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
            <span class="hljs-attr">message</span>: <span class="hljs-string">'action: '</span> + action
          });
        });
      },
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="global-method"><a class="header-anchor" href="#global-method" aria-hidden="true">¶</a> Global method</h3>
<p>Element has added the following global methods for Vue.prototype: <code>$msgbox</code>, <code>$alert</code>, <code>$confirm</code> and <code>$prompt</code>. So in a vue instance you can call <code>MessageBox</code> like what we did in this page.</p>
<h3 id="local-import"><a class="header-anchor" href="#local-import" aria-hidden="true">¶</a> Local import</h3>
<p>Import <code>MessageBox</code>:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { MessageBox } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;
</code></pre>
<p>The corresponding methods are: <code>MessageBox</code>, <code>MessageBox.alert</code>, <code>MessageBox.confirm</code> and <code>MessageBox.prompt</code>.</p>
<h3 id="options"><a class="header-anchor" href="#options" aria-hidden="true">¶</a> Options</h3>
<table class="table"><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Type</th>
<th>Accepted Values</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>title</td>
<td>title of the MessageBox</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>message</td>
<td>content of the MessageBox</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>type</td>
<td>message type, used for icon display</td>
<td>string</td>
<td>success/info/warning/error</td>
<td>—</td>
</tr>
<tr>
<td>customClass</td>
<td>custom class name for MessageBox</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>callback</td>
<td>MessageBox closing callback if you don't prefer Promise</td>
<td>function(action), where action can be 'confirm' or 'cancel', and <code>instance</code> is the MessageBox instance. You can access to that instance's attributes and methods</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>beforeClose</td>
<td>callback before MessageBox closes, and it will prevent MessageBox from closing</td>
<td>function(action, instance, done), where <code>action</code> can be 'confirm' or 'cancel'; <code>instance</code> is the MessageBox instance, and you can access to that instance's attributes and methods; <code>done</code> is for closing the instance</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>lockScroll</td>
<td>whether to lock body scroll when MessageBox prompts</td>
<td>boolean</td>
<td>—</td>
<td>true</td>
</tr>
<tr>
<td>showCancelButton</td>
<td>whether to show a cancel button</td>
<td>boolean</td>
<td>—</td>
<td>false (true when called with confirm and prompt)</td>
</tr>
<tr>
<td>showConfirmButton</td>
<td>whether to show a confirm button</td>
<td>boolean</td>
<td>—</td>
<td>true</td>
</tr>
<tr>
<td>cancelButtonText</td>
<td>text content of cancel button</td>
<td>string</td>
<td>—</td>
<td>Cancel</td>
</tr>
<tr>
<td>confirmButtonText</td>
<td>text content of confirm button</td>
<td>string</td>
<td>—</td>
<td>OK</td>
</tr>
<tr>
<td>cancelButtonClass</td>
<td>custom class name of cancel button</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>confirmButtonClass</td>
<td>custom class name of confirm button</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>closeOnClickModal</td>
<td>whether MessageBox can be closed by clicking the mask</td>
<td>boolean</td>
<td>—</td>
<td>true (false when called with alert)</td>
</tr>
<tr>
<td>closeOnPressEscape</td>
<td>whether MessageBox can be closed by pressing the ESC</td>
<td>boolean</td>
<td>—</td>
<td>true (false when called with alert)</td>
</tr>
<tr>
<td>showInput</td>
<td>whether to show an input</td>
<td>boolean</td>
<td>—</td>
<td>false (true when called with prompt)</td>
</tr>
<tr>
<td>inputPlaceholder</td>
<td>placeholder of input</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>inputValue</td>
<td>initial value of input</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>inputPattern</td>
<td>regexp for the input</td>
<td>regexp</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>inputValidator</td>
<td>validation function for the input. Should returns a boolean or string. If a string is returned, it will be assigned to inputErrorMessage</td>
<td>function</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>inputErrorMessage</td>
<td>error message when validation fails</td>
<td>string</td>
<td>—</td>
<td>Illegal input</td>
</tr>
</tbody>
</table>
</section></template>

<script>
  export default {
    methods: {
      open() {
        this.$alert('This is a message', 'Title', {
          confirmButtonText: 'OK',
          callback: action => {
            this.$message({
              type: 'info',
              message: `action: ${ action }`
            });
          }
        });
      },

      open2() {
        this.$confirm('This will permanently delete the file. Continue?', 'Warning', {
          confirmButtonText: 'OK',
          cancelButtonText: 'Cancel',
          type: 'warning'
        }).then(() => {
          setTimeout(() => {
            this.$message({
              message: 'Delete completed',
              type: 'success'
            });
          }, 200);
        }).catch(() => {
          setTimeout(() => {
            this.$message({
              message: 'Delete canceled',
              type: 'info'
            });  
          }, 200);
        });
      },

      open3() {
        this.$prompt('Please input your email', 'Tips', {
          confirmButtonText: 'OK',
          cancelButtonText: 'Cancel',
          inputPattern: /[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,
          inputErrorMessage: 'Invalid Email'
        }).then(({ value }) => {
          setTimeout(() => {
            this.$message({
              type: 'success',
              message: 'Your email is:' + value
            });
          }, 200);
        }).catch(() => {
          setTimeout(() => {
            this.$message({
              type: 'info',
              message: 'Input canceled'
            });
          }, 200);
        });
      },

      open4() {
        const h = this.$createElement;
        this.$msgbox({
          title: 'Message',
          message: h('p', null, [
            h('span', null, 'Message can be '),
            h('i', { style: 'color: teal' }, 'VNode')
          ]),
          showCancelButton: true,
          confirmButtonText: 'OK',
          cancelButtonText: 'Cancel',
          beforeClose: (action, instance, done) => {
            if (action === 'confirm') {
              instance.confirmButtonLoading = true;
              instance.confirmButtonText = 'Loading...';
              setTimeout(() => {
                done();
                setTimeout(() => {
                  instance.confirmButtonLoading = false;
                }, 300);
              }, 3000);
            } else {
              done();
            }
          }
        }).then(action => {
          setTimeout(() => {
            this.$message({
              type: 'info',
              message: 'action: ' + action
            });
          }, 200);
        });
      }

    }
  };
</script>