<template><section>

<h2 id="loading-jia-zai"><a class="header-anchor" href="#loading-jia-zai" aria-hidden="true">¶</a> Loading 加载</h2>
<p>加载数据时显示动效。</p>
<h3 id="qu-yu-jia-zai"><a class="header-anchor" href="#qu-yu-jia-zai" aria-hidden="true">¶</a> 区域加载</h3>
<p>在表格等容器中加载数据时显示。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-table v-loading.body=\&quot;loading\&quot; :data=\&quot;tableData\&quot; style=\&quot;width: 100%\&quot;&gt;\n    &lt;el-table-column prop=\&quot;date\&quot; label=\&quot;日期\&quot; width=\&quot;180\&quot;&gt;\n    &lt;/el-table-column&gt;\n    &lt;el-table-column prop=\&quot;name\&quot; label=\&quot;姓名\&quot; width=\&quot;180\&quot;&gt;\n    &lt;/el-table-column&gt;\n    &lt;el-table-column prop=\&quot;address\&quot; label=\&quot;地址\&quot;&gt;\n    &lt;/el-table-column&gt;\n  &lt;/el-table&gt;\n&lt;/template&gt;\n\n\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    data() {\n      return {\n        tableData: [{\n          date: '2016-05-03',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }, {\n          date: '2016-05-02',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }, {\n          date: '2016-05-04',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }],\n        loading: true\n      };\n    }\n  };\n&quot;,&quot;style&quot;:&quot;\n  body {\n    margin: 0;\n  }\n&quot;}">
                    <div class="source" slot="source"><template>
  <el-table v-loading.body="loading" :data="tableData" style="width: 100%">
    <el-table-column prop="date" label="日期" width="180">
    </el-table-column>
    <el-table-column prop="name" label="姓名" width="180">
    </el-table-column>
    <el-table-column prop="address" label="地址">
    </el-table-column>
  </el-table>
</template>




</div>
                    <p>Element 提供了两种调用 Loading 的方法：指令和服务。对于自定义指令<code>v-loading</code>，只需要绑定<code>Boolean</code>即可。默认状况下，Loading 遮罩会插入到绑定元素的子节点，通过添加<code>body</code>修饰符，可以使遮罩插入至 DOM 中的 body 上。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span>
    <span class="hljs-attr">v-loading.body</span>=<span class="hljs-string">"loading"</span>
    <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"date"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"日期"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"姓名"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"address"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"地址"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">tableData</span>: [{
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-03'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }, {
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-02'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }, {
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-04'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }],
        <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>
      };
    }
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="jia-zai-wen-an"><a class="header-anchor" href="#jia-zai-wen-an" aria-hidden="true">¶</a> 加载文案</h3>
<p>可自定义加载文案。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-table v-loading=\&quot;loading2\&quot; element-loading-text=\&quot;拼命加载中\&quot; :data=\&quot;tableData\&quot; style=\&quot;width: 100%\&quot;&gt;\n    &lt;el-table-column prop=\&quot;date\&quot; label=\&quot;日期\&quot; width=\&quot;180\&quot;&gt;\n    &lt;/el-table-column&gt;\n    &lt;el-table-column prop=\&quot;name\&quot; label=\&quot;姓名\&quot; width=\&quot;180\&quot;&gt;\n    &lt;/el-table-column&gt;\n    &lt;el-table-column prop=\&quot;address\&quot; label=\&quot;地址\&quot;&gt;\n    &lt;/el-table-column&gt;\n  &lt;/el-table&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    data() {\n      return {\n        tableData: [{\n          date: '2016-05-03',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }, {\n          date: '2016-05-02',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }, {\n          date: '2016-05-04',\n          name: '王小虎',\n          address: '上海市普陀区金沙江路 1518 弄'\n        }],\n        loading2: true\n      };\n    }\n  };\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-table v-loading="loading2" element-loading-text="拼命加载中" :data="tableData" style="width: 100%">
    <el-table-column prop="date" label="日期" width="180">
    </el-table-column>
    <el-table-column prop="name" label="姓名" width="180">
    </el-table-column>
    <el-table-column prop="address" label="地址">
    </el-table-column>
  </el-table>
</template>


</div>
                    <p>在绑定了<code>v-loading</code>指令的元素上添加<code>element-loading-text</code>属性，其值会被渲染为加载文案，并显示在加载图标的下方。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span>
    <span class="hljs-attr">v-loading</span>=<span class="hljs-string">"loading2"</span>
    <span class="hljs-attr">element-loading-text</span>=<span class="hljs-string">"拼命加载中"</span>
    <span class="hljs-attr">:data</span>=<span class="hljs-string">"tableData"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"date"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"日期"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"姓名"</span>
      <span class="hljs-attr">width</span>=<span class="hljs-string">"180"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span>
      <span class="hljs-attr">prop</span>=<span class="hljs-string">"address"</span>
      <span class="hljs-attr">label</span>=<span class="hljs-string">"地址"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">tableData</span>: [{
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-03'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }, {
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-02'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }, {
          <span class="hljs-attr">date</span>: <span class="hljs-string">'2016-05-04'</span>,
          <span class="hljs-attr">name</span>: <span class="hljs-string">'王小虎'</span>,
          <span class="hljs-attr">address</span>: <span class="hljs-string">'上海市普陀区金沙江路 1518 弄'</span>
        }],
        <span class="hljs-attr">loading2</span>: <span class="hljs-literal">true</span>
      };
    }
  };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="zheng-ye-jia-zai"><a class="header-anchor" href="#zheng-ye-jia-zai" aria-hidden="true">¶</a> 整页加载</h3>
<p>页面数据加载时显示。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button type=\&quot;primary\&quot; @click=\&quot;openFullScreen\&quot; v-loading.fullscreen.lock=\&quot;fullscreenLoading\&quot;&gt;\n    显示整页加载，3 秒后消失\n  &lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    data() {\n      return {\n        fullscreenLoading: false\n      }\n    },\n    methods: {\n      openFullScreen() {\n        this.fullscreenLoading = true;\n        setTimeout(() =&gt; {\n          this.fullscreenLoading = false;\n        }, 3000);\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button type="primary" @click="openFullScreen" v-loading.fullscreen.lock="fullscreenLoading">
    显示整页加载，3 秒后消失
  </el-button>
</template>


</div>
                    <p>当需要全屏遮罩时，可使用<code>fullscreen</code>修饰符（此时遮罩会插入至 body 上）。此时若需要锁定屏幕的滚动，可以使用<code>lock</code>修饰符。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span>
    <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span>
    <span class="hljs-attr">@click</span>=<span class="hljs-string">"openFullScreen"</span>
    <span class="hljs-attr">v-loading.fullscreen.lock</span>=<span class="hljs-string">"fullscreenLoading"</span>&gt;</span>
    显示整页加载，3 秒后消失
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    data() {
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">fullscreenLoading</span>: <span class="hljs-literal">false</span>
      }
    },
    <span class="hljs-attr">methods</span>: {
      openFullScreen() {
        <span class="hljs-keyword">this</span>.fullscreenLoading = <span class="hljs-literal">true</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
          <span class="hljs-keyword">this</span>.fullscreenLoading = <span class="hljs-literal">false</span>;
        }, <span class="hljs-number">3000</span>);
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="fu-wu"><a class="header-anchor" href="#fu-wu" aria-hidden="true">¶</a> 服务</h3>
<p>Loading 还可以以服务的方式调用。引入 Loading 服务：</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { Loading } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;
</code></pre>
<p>在需要调用时：</p>
<pre><code class="hljs language-javascript">Loading.service(options);
</code></pre>
<p>其中 <code>options</code> 参数为 Loading 的配置项，具体见下表。<code>LoadingService</code> 会返回一个 Loading 实例，可通过调用该实例的 <code>close</code> 方法来关闭它：</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> loadingInstance = Loading.service(options);
loadingInstance.close();
</code></pre>
<p>需要注意的是，以服务的方式调用的全屏 Loading 是单例的：若在前一个全屏 Loading 关闭前再次调用全屏 Loading，并不会创建一个新的 Loading 实例，而是返回现有全屏 Loading 的实例：</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">let</span> loadingInstance1 = Loading.service({ <span class="hljs-attr">fullscreen</span>: <span class="hljs-literal">true</span> });
<span class="hljs-keyword">let</span> loadingInstance2 = Loading.service({ <span class="hljs-attr">fullscreen</span>: <span class="hljs-literal">true</span> });
<span class="hljs-built_in">console</span>.log(loadingInstance1 === loadingInstance2); <span class="hljs-comment">// true</span>
</code></pre>
<p>此时调用它们中任意一个的 <code>close</code> 方法都能关闭这个全屏 Loading。</p>
<p>如果完整引入了 Element，那么 Vue.prototype 上会有一个全局方法 <code>$loading</code>，它的调用方式为：<code>this.$loading(options)</code>，同样会返回一个 Loading 实例。</p>
<h3 id="options"><a class="header-anchor" href="#options" aria-hidden="true">¶</a> Options</h3>
<table class="table"><thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>可选值</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>target</td>
<td>Loading 需要覆盖的 DOM 节点。可传入一个 DOM 对象或字符串；若传入字符串，则会将其作为参数传入 <code>document.querySelector</code>以获取到对应 DOM 节点</td>
<td>object/string</td>
<td>—</td>
<td>document.body</td>
</tr>
<tr>
<td>body</td>
<td>同 <code>v-loading</code> 指令中的 <code>body</code> 修饰符</td>
<td>boolean</td>
<td>—</td>
<td>false</td>
</tr>
<tr>
<td>fullscreen</td>
<td>同 <code>v-loading</code> 指令中的 <code>fullscreen</code> 修饰符</td>
<td>boolean</td>
<td>—</td>
<td>true</td>
</tr>
<tr>
<td>lock</td>
<td>同 <code>v-loading</code> 指令中的 <code>lock</code> 修饰符</td>
<td>boolean</td>
<td>—</td>
<td>false</td>
</tr>
<tr>
<td>text</td>
<td>显示在加载图标下方的加载文案</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>customClass</td>
<td>Loading 的自定义类名</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
</tbody>
</table>
</section></template>
<style>
  .demo-loading .el-table {
    border: none;
  }
</style>
<script>
  export default {
    data() {
      return {
        tableData: [{
          date: '2016-05-03',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }, {
          date: '2016-05-02',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }, {
          date: '2016-05-04',
          name: '王小虎',
          address: '上海市普陀区金沙江路 1518 弄'
        }],
        loading: true,
        loading2: true,
        fullscreenLoading: false
      }
    },

    methods: {
      openFullScreen() {
        this.fullscreenLoading = true;
        setTimeout(() => {
          this.fullscreenLoading = false;
        }, 3000);
      }
    }
  }
</script>