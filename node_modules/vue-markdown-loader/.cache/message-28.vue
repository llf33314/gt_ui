<template><section>
<h2 id="message-xiao-xi-ti-shi"><a class="header-anchor" href="#message-xiao-xi-ti-shi" aria-hidden="true">¶</a> Message 消息提示</h2>
<p>常用于主动操作后的反馈提示。与 Notification 的区别是后者更多用于系统级通知的被动提醒。</p>
<h3 id="ji-chu-yong-fa"><a class="header-anchor" href="#ji-chu-yong-fa" aria-hidden="true">¶</a> 基础用法</h3>
<p>从顶部出现，3 秒后自动消失。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open\&quot;&gt;打开消息提示&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;openVn\&quot;&gt;VNode&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open() {\n        this.$message('这是一条消息提示');\n      },\n\n      openVn() {\n        const h = this.$createElement;\n        this.$message({\n          message: h('p', null, [\n            h('span', null, '内容可以是 '),\n            h('i', { style: 'color: teal' }, 'VNode')\n          ])\n        });\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button :plain="true" @click="open">打开消息提示</el-button>
  <el-button :plain="true" @click="openVn">VNode</el-button>
</template>


</div>
                    <p>Message 在配置上与 Notification 非常类似，所以部分 options 在此不做详尽解释，文末有 options 列表，可以结合 Notification 的文档理解它们。Element 注册了一个<code>$message</code>方法用于调用，Message 可以接收一个字符串作为参数，它会被显示为正文内容。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open"</span>&gt;</span>打开消息提示<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"openVn"</span>&gt;</span>VNode<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open() {
        <span class="hljs-keyword">this</span>.$message(<span class="hljs-string">'这是一条消息提示'</span>);
      },

      openVn() {
        <span class="hljs-keyword">const</span> h = <span class="hljs-keyword">this</span>.$createElement;
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">message</span>: h(<span class="hljs-string">'p'</span>, <span class="hljs-literal">null</span>, [
            h(<span class="hljs-string">'span'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">'内容可以是 '</span>),
            h(<span class="hljs-string">'i'</span>, { <span class="hljs-attr">style</span>: <span class="hljs-string">'color: teal'</span> }, <span class="hljs-string">'VNode'</span>)
          ])
        });
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="bu-tong-zhuang-tai"><a class="header-anchor" href="#bu-tong-zhuang-tai" aria-hidden="true">¶</a> 不同状态</h3>
<p>用来显示「成功、警告、消息、错误」类的操作反馈。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open2\&quot;&gt;成功&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open3\&quot;&gt;警告&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open\&quot;&gt;消息&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open4\&quot;&gt;错误&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open() {\n        this.$message('这是一条消息提示');\n      },\n      open2() {\n        this.$message({\n          message: '恭喜你，这是一条成功消息',\n          type: 'success'\n        });\n      },\n\n      open3() {\n        this.$message({\n          message: '警告哦，这是一条警告消息',\n          type: 'warning'\n        });\n      },\n\n      open4() {\n        this.$message.error('错了哦，这是一条错误消息');\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button :plain="true" @click="open2">成功</el-button>
  <el-button :plain="true" @click="open3">警告</el-button>
  <el-button :plain="true" @click="open">消息</el-button>
  <el-button :plain="true" @click="open4">错误</el-button>
</template>


</div>
                    <p>当需要自定义更多属性时，Message 也可以接收一个对象为参数。比如，设置<code>type</code>字段可以定义不同的状态，默认为<code>info</code>。此时正文内容以<code>message</code>的值传入。同时，我们也为 Message 的各种 type 注册了方法，可以在不传入<code>type</code>字段的情况下像<code>open4</code>那样直接调用。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open2"</span>&gt;</span>成功<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open3"</span>&gt;</span>警告<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open"</span>&gt;</span>消息<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open4"</span>&gt;</span>错误<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open() {
        <span class="hljs-keyword">this</span>.$message(<span class="hljs-string">'这是一条消息提示'</span>);
      },
      open2() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">message</span>: <span class="hljs-string">'恭喜你，这是一条成功消息'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        });
      },

      open3() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">message</span>: <span class="hljs-string">'警告哦，这是一条警告消息'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>
        });
      },

      open4() {
        <span class="hljs-keyword">this</span>.$message.error(<span class="hljs-string">'错了哦，这是一条错误消息'</span>);
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="ke-guan-bi"><a class="header-anchor" href="#ke-guan-bi" aria-hidden="true">¶</a> 可关闭</h3>
<p>可以添加关闭按钮。</p>
<demo-block class="demo-box" :jsfiddle="{&quot;html&quot;:&quot;&lt;template&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open5\&quot;&gt;消息&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open6\&quot;&gt;成功&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open7\&quot;&gt;警告&lt;/el-button&gt;\n  &lt;el-button :plain=\&quot;true\&quot; @click=\&quot;open8\&quot;&gt;错误&lt;/el-button&gt;\n&lt;/template&gt;\n\n\n&quot;,&quot;script&quot;:&quot;\n  export default {\n    methods: {\n      open5() {\n        this.$message({\n          showClose: true,\n          message: '这是一条消息提示'\n        });\n      },\n\n      open6() {\n        this.$message({\n          showClose: true,\n          message: '恭喜你，这是一条成功消息',\n          type: 'success'\n        });\n      },\n\n      open7() {\n        this.$message({\n          showClose: true,\n          message: '警告哦，这是一条警告消息',\n          type: 'warning'\n        });\n      },\n\n      open8() {\n        this.$message({\n          showClose: true,\n          message: '错了哦，这是一条错误消息',\n          type: 'error'\n        });\n      }\n    }\n  }\n&quot;,&quot;style&quot;:null}">
                    <div class="source" slot="source"><template>
  <el-button :plain="true" @click="open5">消息</el-button>
  <el-button :plain="true" @click="open6">成功</el-button>
  <el-button :plain="true" @click="open7">警告</el-button>
  <el-button :plain="true" @click="open8">错误</el-button>
</template>


</div>
                    <p>默认的 Message 是不可以被人工关闭的，如果需要可手动关闭的 Message，可以使用<code>showClose</code>字段。此外，和 Notification 一样，Message 拥有可控的<code>duration</code>，设置<code>0</code>为不会被自动关闭，默认为 3000 毫秒。</p>

                    <div class="highlight" slot="highlight"><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open5"</span>&gt;</span>消息<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open6"</span>&gt;</span>成功<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open7"</span>&gt;</span>警告<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">:plain</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">@click</span>=<span class="hljs-string">"open8"</span>&gt;</span>错误<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
    <span class="hljs-attr">methods</span>: {
      open5() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">showClose</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'这是一条消息提示'</span>
        });
      },

      open6() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">showClose</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'恭喜你，这是一条成功消息'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span>
        });
      },

      open7() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">showClose</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'警告哦，这是一条警告消息'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span>
        });
      },

      open8() {
        <span class="hljs-keyword">this</span>.$message({
          <span class="hljs-attr">showClose</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">message</span>: <span class="hljs-string">'错了哦，这是一条错误消息'</span>,
          <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>
        });
      }
    }
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</div></demo-block>
<h3 id="quan-ju-fang-fa"><a class="header-anchor" href="#quan-ju-fang-fa" aria-hidden="true">¶</a> 全局方法</h3>
<p>Element 为 Vue.prototype 添加了全局方法 $message。因此在 vue instance 中可以采用本页面中的方式调用 <code>Message</code>。</p>
<h3 id="dan-du-yin-yong"><a class="header-anchor" href="#dan-du-yin-yong" aria-hidden="true">¶</a> 单独引用</h3>
<p>单独引入 <code>Message</code>：</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> { Message } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>;
</code></pre>
<p>此时调用方法为 <code>Message(options)</code>。我们也为每个 type 定义了各自的方法，如 <code>Message.success(options)</code>。
并且可以调用 <code>Message.closeAll()</code> 手动关闭所有实例。</p>
<h3 id="options"><a class="header-anchor" href="#options" aria-hidden="true">¶</a> Options</h3>
<table class="table"><thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>可选值</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>消息文字</td>
<td>string / VNode</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>type</td>
<td>主题</td>
<td>string</td>
<td>success/warning/info/error</td>
<td>info</td>
</tr>
<tr>
<td>iconClass</td>
<td>自定义图标的类名，会覆盖 <code>type</code></td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>customClass</td>
<td>自定义类名</td>
<td>string</td>
<td>—</td>
<td>—</td>
</tr>
<tr>
<td>duration</td>
<td>显示时间, 毫秒。设为 0 则不会自动关闭</td>
<td>number</td>
<td>—</td>
<td>3000</td>
</tr>
<tr>
<td>showClose</td>
<td>是否显示关闭按钮</td>
<td>boolean</td>
<td>—</td>
<td>false</td>
</tr>
<tr>
<td>onClose</td>
<td>关闭时的回调函数, 参数为被关闭的 message 实例</td>
<td>function</td>
<td>—</td>
<td>—</td>
</tr>
</tbody>
</table>
<h3 id="fang-fa"><a class="header-anchor" href="#fang-fa" aria-hidden="true">¶</a> 方法</h3>
<p>调用 <code>Message</code> 或 <code>this.$message</code> 会返回当前 Message 的实例。如果需要手动关闭实例，可以调用它的 <code>close</code> 方法。</p>
<table class="table"><thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>close</td>
<td>关闭当前的 Message</td>
</tr>
</tbody>
</table>
</section></template>

<script>
  module.exports = {
    methods: {
      open() {
        this.$message('这是一条消息提示');
      },

      openVn() {
        const h = this.$createElement;
        this.$message({
          message: h('p', null, [
            h('span', null, '内容可以是 '),
            h('i', { style: 'color: teal' }, 'VNode')
          ])
        });
      },

      open2() {
        this.$message({
          message: '恭喜你，这是一条成功消息',
          type: 'success'
        });
      },

      open3() {
        this.$message({
          message: '警告哦，这是一条警告消息',
          type: 'warning'
        });
      },

      open4() {
        this.$message.error('错了哦，这是一条错误消息');
      },

      open5() {
        this.$message({
          showClose: true,
          message: '这是一条消息提示'
        });
      },

      open6() {
        this.$message({
          showClose: true,
          message: '恭喜你，这是一条成功消息',
          type: 'success'
        });
      },

      open7() {
        this.$message({
          showClose: true,
          message: '警告哦，这是一条警告消息',
          type: 'warning'
        });
      },

      open8() {
        this.$message({
          showClose: true,
          message: '错了哦，这是一条错误消息',
          type: 'error'
        });
      }
    }
  };
</script>