<template><section><h2 id="zi-ding-yi-zhu-ti"><a class="header-anchor" href="#zi-ding-yi-zhu-ti" aria-hidden="true">¶</a> 自定义主题</h2>
<p>Element 默认提供一套主题，CSS 命名采用 BEM 的风格方便使用者覆盖样式。如果你想完全替换主题色或者部分样式，可以使用下面的方法。</p>
<h2 id="jin-ti-huan-zhu-ti-se"><a class="header-anchor" href="#jin-ti-huan-zhu-ti-se" aria-hidden="true">¶</a> 仅替换主题色</h2>
<p>如果仅希望更换 Element 的主题色，推荐使用<a href="https://elementui.github.io/theme-preview">在线主题生成工具</a>。</p>
<p>Element 默认的主题色是鲜艳、友好的蓝色。通过替换主题色，能够让 Element 的视觉更加符合具体项目的定位。</p>
<p>使用上述工具，可以很方便地实时预览主题色改变之后的视觉，同时它还可以基于新的主题色生成完整的样式文件包，供直接下载使用（关于如何使用下载的主题包，请参考本节「引入自定义主题」和「搭配插件按需引入组件主题」部分）。</p>
<p>如果希望进行除主题色之外的样式定制，请继续阅读。</p>
<h2 id="shen-ceng-ci-de-ding-zhi"><a class="header-anchor" href="#shen-ceng-ci-de-ding-zhi" aria-hidden="true">¶</a> 深层次的定制</h2>
<p>如果仅仅改变主题色不能满足你的需求，请按以下步骤进行更深层次的主题定制：</p>
<h3 id="an-zhuang-gong-ju"><a class="header-anchor" href="#an-zhuang-gong-ju" aria-hidden="true">¶</a> 安装工具</h3>
<p>首先安装「主题生成工具」，可以全局安装或者安装在当前项目下，推荐安装在项目里，方便别人 clone 项目时能直接安装依赖并启动，这里以全局安装做演示。</p>
<pre><code class="hljs language-shell">npm i element-theme -g
</code></pre>
<p>安装默认主题，可以从 npm 安装或者从 GitHub 拉取最新代码。</p>
<pre><code class="hljs language-shell"># 从 npm
npm i element-theme-default -D

# 从 GitHub
npm i https://github.com/ElementUI/theme-default -D
</code></pre>
<h3 id="chu-shi-hua-bian-liang-wen-jian"><a class="header-anchor" href="#chu-shi-hua-bian-liang-wen-jian" aria-hidden="true">¶</a> 初始化变量文件</h3>
<p>主题生成工具安装成功后，如果全局安装可以在命令行里通过 <code>et</code> 调用工具，如果安装在当前目录下，需要通过 <code>node_modules/.bin/et</code> 访问到命令。执行 <code>-i</code> 初始化变量文件。默认输出到 <code>element-variables.css</code>，当然你可以传参数指定文件输出目录。</p>
<pre><code class="hljs language-shell">et -i [可以自定义变量文件]

&gt; ✔ Generator variables file
</code></pre>
<p>如果使用默认配置，执行后当前目录会有一个 <code>element-variables.css</code> 文件。内部包含了主题所用到的所有变量，它们使用 CSS4 的风格定义。大致结构如下：</p>
<pre><code class="hljs language-css"><span class="hljs-selector-pseudo">:root</span> {

  <span class="hljs-comment">/* Colors
  -------------------------- */</span>
  <span class="hljs-attribute">--color-primary</span>: <span class="hljs-number">#20a0ff</span>;
  <span class="hljs-attribute">--color-success</span>: <span class="hljs-number">#13ce66</span>;
  <span class="hljs-attribute">--color-warning</span>: <span class="hljs-number">#f7ba2a</span>;
  <span class="hljs-attribute">--color-danger</span>: <span class="hljs-number">#ff4949</span>;
  <span class="hljs-attribute">--color-info</span>: <span class="hljs-number">#50BFFF</span>;
  <span class="hljs-attribute">--color-blue</span>: <span class="hljs-number">#2e90fe</span>;
  <span class="hljs-attribute">--color-blue-light</span>: <span class="hljs-number">#5da9ff</span>;
  <span class="hljs-attribute">--color-blue-lighter</span>: <span class="hljs-built_in">rgba</span>(var(--color-blue), <span class="hljs-number">0.12</span>);
  <span class="hljs-attribute">--color-white</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">--color-black</span>: <span class="hljs-number">#000</span>;
  <span class="hljs-attribute">--color-grey</span>: <span class="hljs-number">#C0CCDA</span>;
</code></pre>
<h3 id="xiu-gai-bian-liang"><a class="header-anchor" href="#xiu-gai-bian-liang" aria-hidden="true">¶</a> 修改变量</h3>
<p>直接编辑 <code>element-variables.css</code> 文件，例如修改主题色为红色。</p>
<pre><code class="hljs language-CSS"><span class="hljs-selector-tag">--color-primary</span>: <span class="hljs-selector-tag">red</span>;
</code></pre>
<h3 id="bian-yi-zhu-ti"><a class="header-anchor" href="#bian-yi-zhu-ti" aria-hidden="true">¶</a> 编译主题</h3>
<p>保存文件后，到命令行里执行 <code>et</code> 编译主题，如果你想启用 <code>watch</code> 模式，实时编译主题，增加 <code>-w</code> 参数；如果你在初始化时指定了自定义变量文件，则需要增加 <code>-c</code> 参数，并带上你的变量文件名</p>
<pre><code class="hljs language-shell">et

&gt; ✔ build theme font
&gt; ✔ build element theme
</code></pre>
<h3 id="yin-ru-zi-ding-yi-zhu-ti"><a class="header-anchor" href="#yin-ru-zi-ding-yi-zhu-ti" aria-hidden="true">¶</a> 引入自定义主题</h3>
<p>默认情况下编译的主题目录是放在 <code>./theme</code> 下，你可以通过 <code>-o</code> 参数指定打包目录。像引入默认主题一样，在代码里直接引用 <code>theme/index.css</code> 文件即可。</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-string">'../theme/index.css'</span>
<span class="hljs-keyword">import</span> ElementUI <span class="hljs-keyword">from</span> <span class="hljs-string">'element-ui'</span>
<span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

Vue.use(ElementUI)
</code></pre>
<h3 id="da-pei-cha-jian-an-xu-yin-ru-zu-jian-zhu-ti"><a class="header-anchor" href="#da-pei-cha-jian-an-xu-yin-ru-zu-jian-zhu-ti" aria-hidden="true">¶</a> 搭配插件按需引入组件主题</h3>
<p>如果是搭配 <code>babel-plugin-component</code> 一起使用，只需要修改 <code>.babelrc</code> 的配置，指定 <code>styleLibraryName</code> 路径为自定义主题相对于 <code>.babelrc</code> 的路径，注意要加 <code>~</code>。</p>
<pre><code class="hljs language-json">{
  <span class="hljs-attr">"plugins"</span>: [[<span class="hljs-string">"component"</span>, [
    {
      <span class="hljs-attr">"libraryName"</span>: <span class="hljs-string">"element-ui"</span>,
      <span class="hljs-attr">"styleLibraryName"</span>: <span class="hljs-string">"~theme"</span>
    }
  ]]]
}
</code></pre>
<p>如果不清楚 <code>babel-plugin-component</code> 是什么，请阅读 <a href="./#/zh-CN/component/quickstart">快速上手</a> 一节。更多 <code>element-theme</code> 用法请参考<a href="https://github.com/ElementUI/element-theme">项目仓库</a>。</p>
</section></template>

